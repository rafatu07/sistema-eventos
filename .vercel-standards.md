# Padr√µes Vercel - Sistema de Eventos

Este arquivo define os padr√µes rigorosos para manter o projeto compat√≠vel com as configura√ß√µes da Vercel e evitar erros de build.

## üîß Configura√ß√µes TypeScript Rigorosas

### tsconfig.json - Configura√ß√µes Obrigat√≥rias
```json
{
  "compilerOptions": {
    "strict": true,
    "noImplicitAny": true,
    "strictNullChecks": true,
    "noImplicitReturns": true,
    "noUncheckedIndexedAccess": true,
    "exactOptionalPropertyTypes": true
  }
}
```

### Regras de C√≥digo Obrigat√≥rias

#### 1. Tipos TypeScript
- ‚ùå **NUNCA usar `any`** - Use `unknown` ou tipos espec√≠ficos
- ‚úÖ **Sempre declarar tipos expl√≠citos** para par√¢metros de fun√ß√£o
- ‚úÖ **Usar assertion de tipo** quando necess√°rio: `value as Type`
- ‚úÖ **Verificar undefined** antes de acessar propriedades

#### 2. React Components
- ‚úÖ **Exporta√ß√£o padr√£o + nomeada** para lazy loading:
```typescript
const Component: React.FC<Props> = () => { /* ... */ };
export default Component;
export { Component };
```

#### 3. React Class Components
- ‚úÖ **Usar `override`** em m√©todos que sobrescrevem a base:
```typescript
override componentDidCatch(error: Error, errorInfo: ErrorInfo) {}
override render() {}
```

#### 4. Vari√°veis N√£o Utilizadas
- ‚úÖ **Prefixar com `_`** par√¢metros n√£o utilizados: `_request`, `_unused`
- ‚úÖ **Remover imports** n√£o utilizados
- ‚úÖ **Comentar** ao inv√©s de deletar c√≥digo importante

#### 5. Arrays e Objetos
- ‚úÖ **Verificar se existe** antes de acessar:
```typescript
const item = array[0];
if (item) {
  // usar item
}
```

#### 6. Promises e Async
- ‚úÖ **Sempre tratar erros** em catch blocks
- ‚úÖ **Usar tipos espec√≠ficos** em vez de `any` em callbacks

## üìã Checklist Pre-Deploy

### Antes de cada commit:
- [ ] `npm run build` passa sem erros
- [ ] `npm run lint` sem warnings cr√≠ticos
- [ ] `npm run type-check` sem erros TypeScript
- [ ] Todos os `any` substitu√≠dos por tipos espec√≠ficos
- [ ] Vari√°veis n√£o utilizadas prefixadas com `_`
- [ ] Verifica√ß√µes de undefined/null adicionadas

### Padr√µes de Import/Export:
- [ ] Componentes React t√™m exporta√ß√£o padr√£o E nomeada
- [ ] Hooks customizados exportados como nomeados
- [ ] Utilit√°rios exportados como nomeados
- [ ] Types/interfaces exportados como nomeados

### Tratamento de Erros:
- [ ] Try/catch em todas as opera√ß√µes async
- [ ] Error boundaries em componentes cr√≠ticos
- [ ] Fallbacks para estados de loading/error
- [ ] Logs estruturados para debugging

## üöÄ Scripts Recomendados

Adicione ao `package.json`:

```json
{
  "scripts": {
    "build": "next build",
    "lint": "next lint",
    "type-check": "tsc --noEmit",
    "lint:fix": "next lint --fix",
    "pre-deploy": "npm run type-check && npm run lint && npm run build"
  }
}
```

## ‚ö° Configura√ß√£o ESLint Rigorosa

Crie `.eslintrc.json`:

```json
{
  "extends": ["next/core-web-vitals"],
  "rules": {
    "@typescript-eslint/no-explicit-any": "error",
    "@typescript-eslint/no-unused-vars": ["error", { "argsIgnorePattern": "^_" }],
    "@typescript-eslint/prefer-nullish-coalescing": "error",
    "@typescript-eslint/prefer-optional-chain": "error",
    "react-hooks/exhaustive-deps": "warn",
    "@typescript-eslint/consistent-type-imports": "error"
  }
}
```

## üîç Verifica√ß√µes Autom√°ticas

### Pre-commit Hook (opcional)
```bash
# .husky/pre-commit
#!/bin/sh
npm run type-check
npm run lint
```

## üìù Padr√µes de Documenta√ß√£o

- **Cada componente** deve ter JSDoc com exemplo de uso
- **Fun√ß√µes complexas** devem ter coment√°rios explicativos  
- **APIs** devem ter tipos de request/response documentados
- **Hooks customizados** devem ter exemplo de uso

---

## üéØ Resultado Esperado

Seguindo esses padr√µes:
- ‚úÖ **Build sempre passa** na Vercel
- ‚úÖ **Zero erros TypeScript** 
- ‚úÖ **Performance otimizada**
- ‚úÖ **Manutenibilidade alta**
- ‚úÖ **Deploy confi√°vel**

---

**üìÖ √öltima atualiza√ß√£o:** $(date)
**üîÑ Pr√≥xima revis√£o:** Quando houver mudan√ßas no Next.js/Vercel

---

> üí° **Dica:** Execute `npm run pre-deploy` antes de cada push para garantir que tudo est√° funcionando.
